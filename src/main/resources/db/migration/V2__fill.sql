INSERT INTO position (id, name, description, salary, category) VALUES
                                                                   (1, 'Менеджер', 'Работа с клиентами', 80000, 'Офис'),
                                                                   (2, 'Оператор', 'Обслуживание звонков', 50000, 'Офис'),
                                                                   (3, 'Администратор', 'Администрирование систем', 90000, 'IT'),
                                                                   (4, 'Техник', 'Техническое обслуживание', 60000, 'Технический'),
                                                                   (5, 'Аналитик', 'Анализ данных', 100000, 'IT'),
                                                                   (6, 'Разработчик', 'Разработка ПО', 120000, 'IT'),
                                                                   (7, 'Тестировщик', 'Тестирование ПО', 70000, 'IT'),
                                                                   (8, 'Руководитель отдела', 'Управление командой', 150000, 'Менеджмент'),
                                                                   (9, 'HR-специалист', 'Подбор персонала', 65000, 'Офис'),
                                                                   (10, 'Маркетолог', 'Продвижение услуг', 85000, 'Офис'),
                                                                   (11, 'Финансист', 'Финансовый анализ', 110000, 'Финансы'),
                                                                   (12, 'Юрист', 'Правовое сопровождение', 120000, 'Финансы'),
                                                                   (13, 'Системный архитектор', 'Архитектура систем', 160000, 'IT'),
                                                                   (14, 'DevOps-инженер', 'CI/CD и инфраструктура', 140000, 'IT'),
                                                                   (15, 'Сетевой инженер', 'Настройка сетей', 100000, 'Технический'),
                                                                   (16, 'Специалист по безопасности', 'Инфобез', 130000, 'IT'),
                                                                   (17, 'Data Scientist', 'ML и аналитика', 170000, 'IT'),
                                                                   (18, 'Product Manager', 'Управление продуктом', 150000, 'Менеджмент'),
                                                                   (19, 'Project Manager', 'Управление проектами', 140000, 'Менеджмент'),
                                                                   (20, 'Директор по развитию', 'Стратегия компании', 200000, 'Топ-менеджмент');

-- 30 услуг
INSERT INTO service (id, name, type, description, status) VALUES
                                                              (1, 'Интернет 50 Мбит/с', 'Интернет', 'Домашний интернет', 'Активен'),
                                                              (2, 'Интернет 100 Мбит/с', 'Интернет', 'Домашний интернет', 'Активен'),
                                                              (3, 'Интернет 300 Мбит/с', 'Интернет', 'Домашний интернет', 'Активен'),
                                                              (4, 'Мобильный Базовый', 'Мобильная связь', '500 минут', 'Активен'),
                                                              (5, 'Мобильный Стандарт', 'Мобильная связь', '1000 минут', 'Активен'),
                                                              (6, 'Мобильный Премиум', 'Мобильная связь', '3000 минут', 'Активен'),
                                                              (7, 'IPTV Базовый', 'IPTV', '50 каналов', 'Активен'),
                                                              (8, 'IPTV Расширенный', 'IPTV', '150 каналов', 'Активен'),
                                                              (9, 'IPTV Премиум', 'IPTV', '300 каналов', 'Активен'),
                                                              (10, 'VPN Домашний', 'VPN', '1 подключение', 'Активен'),
                                                              (11, 'VPN Бизнес', 'VPN', '10 подключений', 'Активен'),
                                                              (12, 'VPN Корпоративный', 'VPN', '50 подключений', 'Активен'),
                                                              (13, 'Телефония Городская', 'Телефония', 'Безлимит', 'Активен'),
                                                              (14, 'Телефония Междугородняя', 'Телефония', '1000 минут', 'Активен'),
                                                              (15, 'Телефония Международная', 'Телефония', '500 минут', 'Активен'),
                                                              (16, 'Облако 50ГБ', 'Хранилище', 'Личное', 'Активен'),
                                                              (17, 'Облако 200ГБ', 'Хранилище', 'Семейное', 'Активен'),
                                                              (18, 'Облако 1ТБ', 'Хранилище', 'Корпоративное', 'Активен'),
                                                              (19, 'Антивирус Базовый', 'Безопасность', '1 устройство', 'Активен'),
                                                              (20, 'Антивирус Премиум', 'Безопасность', '5 устройств', 'Активен'),
                                                              (21, 'Антивирус Корпоративный', 'Безопасность', '50 устройств', 'Активен'),
                                                              (22, 'Умный дом Базовый', 'IoT', 'Датчики', 'Активен'),
                                                              (23, 'Умный дом Расширенный', 'IoT', 'Датчики+камеры', 'Активен'),
                                                              (24, 'Умный дом Премиум', 'IoT', 'Полный комплект', 'Активен'),
                                                              (25, 'Хостинг Сайт', 'Хостинг', '1 сайт', 'Активен'),
                                                              (26, 'Хостинг VPS', 'Хостинг', '1 сервер', 'Активен'),
                                                              (27, 'Хостинг Dedicated', 'Хостинг', 'Физический сервер', 'Активен'),
                                                              (28, 'Поддержка 24/7', 'Сервис', 'Горячая линия', 'Активен'),
                                                              (29, 'Консалтинг IT', 'Сервис', 'Час консультации', 'Активен'),
                                                              (30, 'Аудит безопасности', 'Сервис', 'Комплексная проверка', 'Активен');

-- 20 тарифных планов
INSERT INTO tariff_plan (id, price, internet, status, minutes_in, minutes_out) VALUES
                                                                                   (1, 10.00, 50, 'Активен', 100, 50),
                                                                                   (2, 15.00, 100, 'Активен', 200, 100),
                                                                                   (3, 25.00, 300, 'Активен', 500, 200),
                                                                                   (4, 8.00, 10, 'Активен', 50, 20),
                                                                                   (5, 12.00, 20, 'Активен', 100, 50),
                                                                                   (6, 20.00, 50, 'Активен', 300, 100),
                                                                                   (7, 5.00, 0, 'Активен', 0, 0),
                                                                                   (8, 10.00, 0, 'Активен', 0, 0),
                                                                                   (9, 15.00, 0, 'Активен', 0, 0),
                                                                                   (10, 7.00, 5, 'Активен', 20, 10),
                                                                                   (11, 20.00, 50, 'Активен', 200, 100),
                                                                                   (12, 50.00, 100, 'Активен', 500, 200),
                                                                                   (13, 18.00, 100, 'Активен', 300, 150),
                                                                                   (14, 20.00, 150, 'Активен', 400, 200),
                                                                                   (15, 40.00, 200, 'Активен', 600, 300),
                                                                                   (16, 60.00, 300, 'Активен', 800, 400),
                                                                                   (17, 120.00, 500, 'Активен', 1000, 500),
                                                                                   (18, 250.00, 1000, 'Активен', 2000, 1000),
                                                                                   (19, 500.00, 2000, 'Активен', 5000, 2000),
                                                                                   (20, 1.00, 1, 'Архивный', 10, 5);

-- =========================
-- Массовая генерация данных
-- =========================

-- =========================
-- Массовая генерация данных
-- =========================

-- 500 клиентов
INSERT INTO client (passport_number, mobile_number, status, fio)
SELECT
    'P' || lpad(g::text, 6, '0'),   -- P000001 … P000500
    '+79' || lpad(g::text, 9, '0'), -- +79000000001 …
    (ARRAY['Активен','Заблокирован','Не активен'])[floor(random()*3+1)],
    'Клиент ' || g
FROM generate_series(1,500) g;

-- 100 сотрудников
INSERT INTO employee (passport_number, bonus, hired, fio, position_id)
SELECT
    'E' || lpad(g::text, 6, '0'),   -- E000001 … E000100
    ((random() * 20000)::numeric(10,2))::money,
    now() - (random()*1000 || ' days')::interval,
    'Сотрудник ' || g,
    (SELECT id FROM position ORDER BY random() LIMIT 1)
FROM generate_series(1,100) g;

-- 300 контрактов (expire > concluded)
INSERT INTO contract (concluded, expire, prepayment, status, tariff_plan_id, client_id, employee_id)
SELECT
    d AS concluded,
    d + (random()*365 || ' days')::interval AS expire,
    ((random()*5000)::numeric(10,2))::money,
    (ARRAY['Активен','Завершен','Расторгнут'])[floor(random()*3+1)],
    (SELECT id FROM tariff_plan ORDER BY random() LIMIT 1),
    (SELECT id FROM client ORDER BY random() LIMIT 1),
    (SELECT id FROM employee ORDER BY random() LIMIT 1)
FROM (
         SELECT now() - (random()*365 || ' days')::interval AS d
         FROM generate_series(1,300)
     ) sub;

-- 1000 счетов (согласованность paid/status)
INSERT INTO bill (issued, paid, size, status, client_id)
SELECT
    now() - (random()*365 || ' days')::interval,
    p,
    ((random()*1000 + 100)::numeric(10,2))::money,
    CASE WHEN p THEN 'Оплачен'
         ELSE (ARRAY['Выставлен','Просрочен','Возвращён','Отменён'])[floor(random()*4+1)]
        END,
    (SELECT id FROM client ORDER BY random() LIMIT 1)
FROM (
         SELECT (random() > 0.5) AS p
         FROM generate_series(1,1000)
     ) sub;

-- 200 тикетов поддержки (можно повторять client/employee)
INSERT INTO support_tickets (client_id, employee_id, timestamp, response)
SELECT
    (SELECT id FROM client ORDER BY random() LIMIT 1),
    (SELECT id FROM employee ORDER BY random() LIMIT 1),
    now() - (random()*100 || ' days')::interval,
    'Ответ на обращение #' || g
FROM generate_series(1,200) g;

-- 500 связей contract-service (без дубликатов)
INSERT INTO contract_service (contract_id, service_id)
SELECT DISTINCT
    (SELECT id FROM contract ORDER BY random() LIMIT 1),
    (SELECT id FROM service ORDER BY random() LIMIT 1)
FROM generate_series(1,500) g
ON CONFLICT DO NOTHING;
